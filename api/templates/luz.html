<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Controle do LED</title>
</head>
<body>
<h1>Controle do LED</h1>

<button onclick="toggleLED()">Alternar LED</button>

<p id="msg"></p>

<script>
const apiURL = "http://127.0.0.1:5000"; // seu servidor Flask local

function toggleLED() {
    fetch(`${apiURL}/led`, {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({comando: "T"})
    })
    .then(res => res.json())
    .then(data => {
        document.getElementById("msg").innerText = 
            data.status === "ok" ? "LED alternado com sucesso!" : `Erro: ${data.msg}`;
    })
    .catch(err => {
        document.getElementById("msg").innerText = `Erro: ${err}`;
    });
}
</script>
</body>
</html>
